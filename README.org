#+TITLE: kotori-clj

ref: https://github.com/tsu-nera/kotori

* 名前空間のルール

** model

- アプリを構成する登場人物, 操作対象.
- model配下のnamespaceとfirestoreのdocumentを一致させる.
- modelの初期化をintegrantで実施してfirestoreの情報を取得して定数として保持.
- Appliction Domain, Entity.

** procedure

- botから呼び出される手続き.
- 状態と副作用をもってはならない.
- Handler, Use Cases, フロー, シーケンス.

** bot

- loop構造を持ち常駐するプロセス aka. サービス.
  - 状態をもち状態遷移する.
  - Integrantで依存関係に従って初期化.
- Modelator(GoF), Coltroller(MVC), Manager, Gateway...etc.
- Modelの管理とProcedureの呼び出しを担当.
- firestore collectionはこのレイヤで初期化したModelをしたリストとして保持.

** lib

- framework, driver, client.
- 外部とのやりとりを担当.

