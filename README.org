#+STARTUP: showall
#+TITLE: kotori-clj

ref: https://github.com/tsu-nera/kotori

* 名前空間のルール

** model

- アプリを構成する登場人物, 操作対象.
- Appliction Domain, Entity.
- キモはfirebase firestore連携.
  - model配下のnamespaceとfirestoreのdocumentを一致させる.
  - modelの初期化をintegrantで実施してfirestoreの情報を取得して定数として保持.

** procedure

- serviceから呼び出される手続き, 関数の集合.
- 状態と副作用をもってはならない.
- Handler, Use Cases, フロー, シーケンス, ストアドプロシージャ.
- キモはprocedure call
  - REPLから呼べるようにする for Debug.
  - 全て関数としてREPLから呼び出したい.
  - リモートだろうとローカルだろうと全ては関数呼び出し.
    - RPC
    - HTTP Request
    - System Call
    - Stored Precedure

** service

- loop構造を持ち常駐するプロセス aka. サービス.
  - 状態をもち状態遷移する.
  - Integrantで依存関係に従って初期化.
- Modelator(GoF), Controller(MVC), Manager, Gateway...etc.
- Modelの管理とProcedureの呼び出しを担当.

** lib

- framework, driver, client.
- 外部とのやりとりを担当.
- procedureから利用される.
